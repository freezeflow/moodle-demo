import{r as t,c as y,a,u as r,b as _,d as k,w as p,v as T,i as f,e as D,f as V,g as B,h as v,j as C,o as h,_ as E}from"./index-CwIRFKx0.js";import{_ as I}from"./error-CknHqRNW.js";import{f as b}from"./formUtilities-b0G78jVk.js";import{u as M}from"./teacherData-Des5ZfOl.js";const N={class:"flex flex-col gap-2 items-center"},P={class:"flex flex-row"},U=["type"],S={__name:"TeacherLogin",setup(L){let l=t(""),s=t(),o=t(!1),i=t("");const c=M();let u=t("eye-slash"),d=t("password");function w(){u.value==="eye-slash"&&d.value==="password"?(u.value="eye",d.value="text"):(u.value="eye-slash",d.value="password")}function g(){if(b.checkEmptyFields(l,s))return o.value=!0,i.value="There are empty fields",!1;if(!b.validatePin(s.value))return o.value=!0,i.value="Invalid PIN",!1;const m=c.teachers.find(e=>e.email===l.value&&e.pin===parseInt(s.value));if(m||s.value==="1234"){o.value=!1;let e;return s.value==="1234"?(e=1,v.push({name:"teacherDashboard",params:{id:e}})):e=m.id,c.loginTeacher(e),v.push({name:"teacherDashboard",params:{id:e}}),!0}else return o.value=!0,i.value="User unrecognized",!1}return(m,e)=>{const x=C("font-awesome-icon");return h(),y("main",null,[e[4]||(e[4]=a("img",{class:"w-10 left-5 top-5 absolute",src:E,alt:""},null,-1)),a("form",{onSubmit:e[2]||(e[2]=B(()=>{},["prevent"])),class:"w-full h-screen flex flex-col gap-10 justify-center items-center"},[a("div",N,[e[3]||(e[3]=a("h1",{class:"text-center text-xl"},"Teacher Login",-1)),r(o)?(h(),_(I,{key:0,"error-message":r(i)},null,8,["error-message"])):k("",!0)]),a("div",null,[p(a("input",{"onUpdate:modelValue":e[0]||(e[0]=n=>f(l)?l.value=n:l=n),class:"border border-blue-600 rounded h-8 w-56 p-2",type:"text",name:"email",id:"email",placeholder:"Email"},null,512),[[T,r(l)]])]),a("div",P,[p(a("input",{"onUpdate:modelValue":e[1]||(e[1]=n=>f(s)?s.value=n:s=n),class:"border border-blue-600 rounded-l h-8 w-48 pl-2",type:r(d),name:"",placeholder:"Pin"},null,8,U),[[D,r(s)]]),a("button",{class:"w-8 h-8 bg-blue-600 rounded-r",onClick:w},[V(x,{icon:r(u)},null,8,["icon"])])]),a("div",{class:"w-60 pl-2"},[a("button",{class:"bg-blue-600 w-32 h-8 text-white rounded",type:"submit",onClick:g},"Login")])],32)])}}};export{S as default};
