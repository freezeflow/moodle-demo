import{r as n,c as h,a as s,u as t,b as x,d as y,w as m,v as _,i as p,e as k,f as D,g as P,h as V,j as B,o as c,_ as C}from"./index-CwIRFKx0.js";import{_ as E}from"./error-CknHqRNW.js";import{f}from"./formUtilities-b0G78jVk.js";import{u as M}from"./parentsData-nJOEJgqE.js";const N={class:"flex flex-col gap-2 items-center"},U={class:"flex flex-row"},L=["type"],G={__name:"ParentLogin",setup(T){let a=n(""),l=n(""),o=n(""),i=n("eye-slash"),u=n("password");const v=M();function w(){i.value==="eye-slash"&&u.value==="password"?(i.value="eye",u.value="text"):(i.value="eye-slash",u.value="password")}function b(){if(f.checkEmptyFields(a,l)){o.value="There are empty fields";return}if(!f.validateEmail(a)){o.value="Invalid email";return}const d=v.parents.find(e=>e.email===a.value&&e.password===l.value);if(d){const e=Number(d.id);V.push({name:"parentDashboard",params:{id:e}})}else{o.value="User not recognized";return}}return(d,e)=>{const g=B("font-awesome-icon");return c(),h("main",null,[e[4]||(e[4]=s("img",{class:"w-10 ml-5 mt-5 absolute",src:C,alt:""},null,-1)),s("form",{onSubmit:e[2]||(e[2]=P(()=>{},["prevent"])),class:"w-full h-screen flex flex-col gap-10 justify-center items-center",action:""},[s("div",N,[e[3]||(e[3]=s("h1",{class:"text-xl"},"Parent/Guardian Login",-1)),t(o)?(c(),x(E,{key:0,"error-message":t(o)},null,8,["error-message"])):y("",!0)]),s("div",null,[m(s("input",{"onUpdate:modelValue":e[0]||(e[0]=r=>p(a)?a.value=r:a=r),class:"border border-blue-600 rounded h-8 w-56 pl-2",type:"text",name:"email",id:"email",placeholder:"Email"},null,512),[[_,t(a)]])]),s("div",U,[m(s("input",{"onUpdate:modelValue":e[1]||(e[1]=r=>p(l)?l.value=r:l=r),class:"border border-blue-600 rounded-l h-8 w-48 pl-2",type:t(u),name:"",placeholder:"Password"},null,8,L),[[k,t(l)]]),s("button",{class:"w-8 h-8 bg-blue-600 rounded-r",onClick:w},[D(g,{icon:t(i)},null,8,["icon"])])]),s("div",{class:"w-60 pl-2"},[s("button",{class:"bg-blue-600 w-32 h-8 text-white rounded",type:"submit",onClick:b},"Login")])],32)])}}};export{G as default};
