import{r as c,m as V,A as B,c as a,a as t,u as r,b as k,d as S,w as y,q as j,i as C,F as p,p as v,g as M,k as E,o as l,t as g,f as $,l as F,j as L}from"./index-CwIRFKx0.js";/* empty css                                                                 */import{_ as U}from"./error-CknHqRNW.js";import{_ as q}from"./successMessage-wI-VHyJP.js";import{u as O}from"./teacherData-Des5ZfOl.js";import{c as R}from"./constants-CtHMXMTA.js";const P={key:0,class:"w-full h-screen flex flex-col justify-center items-center gap-6"},z={class:"flex flex-col w-full justify-center items-center gap-5"},G={class:"w-full flex flex-col justify-center items-center"},H=["value"],J={class:"w-full flex flex-col justify-center items-center"},K=["value"],Q={class:"w-3/5 flex flex-col gap-2"},W=["onClick"],X={class:"flex flex-col w-full items-center gap-5"},Y={key:1},ne={__name:"teacherRole",setup(Z){var h;const d=E(),N=F(),b=Number(d.params.teacherId),x=O();let w=c(!1),n=c(),i=c();c([]);let m=c();const f=V(()=>x.teachers.find(o=>o.id===b)),u=B({assignedRole:((h=f.value)==null?void 0:h.assignedClassesAndSubjects)||"",uploadDate:new Date().toLocaleString()||""});function A(o){u.assignedRole.splice(o,1)}function D(){const o=n.value+" - "+i.value;u.assignedRole.push(o),console.log(u.assignedRole)}function I(){if(u.assignedRole!==""){x.updateTeacherAssignments(b,u.assignedRole),w.value=!0;let o=Number(d.params.id),e=Number(d.params.teacherId);N.push({name:"teacherInfo",params:{id:o,teacherId:e}})}else m.value="Please select at least one subject and one grade"}return(o,e)=>{const T=L("font-awesome-icon");return f.value?(l(),a("div",P,[t("div",null,[e[5]||(e[5]=t("h1",{class:"text-xl text-center"},"Edit Teacher assigned role",-1)),r(m)?(l(),k(U,{key:0,"error-message":r(m)},null,8,["error-message"])):S("",!0),r(w)?(l(),k(q,{key:1,"success-message":"Changes saved"})):S("",!0)]),t("form",{action:"",onSubmit:e[4]||(e[4]=M(()=>{},["prevent"])),class:"w-full flex flex-col gap-3 justify-center items-center"},[t("div",z,[t("div",G,[e[6]||(e[6]=t("p",{class:"w-3/5 font-semibold"},"Select Class:",-1)),y(t("select",{"onUpdate:modelValue":e[0]||(e[0]=s=>C(n)?n.value=s:n=s),name:"",id:"",class:"border border-blue-600 rounded h-8 w-3/5 cursor-pointer"},[(l(!0),a(p,null,v(r(R).classes.value,s=>(l(),a("option",{key:s,value:s},g(s),9,H))),128))],512),[[j,r(n)]])]),t("div",J,[e[7]||(e[7]=t("p",{class:"w-3/5 font-semibold"},"Select Subject:",-1)),y(t("select",{"onUpdate:modelValue":e[1]||(e[1]=s=>C(i)?i.value=s:i=s),name:"",id:"",class:"border border-blue-600 rounded h-8 w-3/5 cursor-pointer"},[(l(!0),a(p,null,v(r(R).subjectOptions.value,s=>(l(),a("option",{key:s,value:s},g(s),9,K))),128))],512),[[j,r(i)]])])]),t("div",Q,[(l(!0),a(p,null,v(f.value.assignedClassesAndSubjects,(s,_)=>(l(),a("div",{class:"flex flex-row gap-2",key:_},[t("p",null,g(s),1),t("button",{onClick:ee=>A(_)},[$(T,{icon:"xmark-circle",class:"text-xs text-red-700"})],8,W)]))),128))]),t("div",X,[t("button",{class:"bg-blue-600 text-white w-3/5 h-8 rounded",onClick:e[2]||(e[2]=s=>D())},"Add more"),t("button",{class:"bg-blue-600 text-white w-3/5 h-8 rounded",onClick:e[3]||(e[3]=s=>I())},"Save")])],32)])):(l(),a("div",Y,e[8]||(e[8]=[t("p",null,"No Teacher found to edit.",-1)])))}}};export{ne as default};
