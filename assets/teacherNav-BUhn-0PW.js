import{k as S,l as T,o as l,c,a as e,x as N,j as D,f as g,s as G,u as p,F as C,p as P,n as _,t as v,r as y,C as O,w as R,v as W,i as I,d as k,b as j,m as z,_ as A,h as F}from"./index-CwIRFKx0.js";import{u as M}from"./teacherData-Des5ZfOl.js";import{u as V}from"./studentData-CoaBhV-D.js";import{u as B}from"./parentsData-nJOEJgqE.js";import{u as J}from"./messageData-C00oRMPq.js";const H={class:"flex flex-col gap-5 justify-center items-center text-white"},U={__name:"secondTeacherNav",props:{changeNav:String},setup(f){const u=S(),x=T(),i=Number(u.params.id);function n(t){x.push({name:t,params:{id:i}})}return(t,s)=>(l(),c("nav",{class:N([f.changeNav,"transition-all m-0 bg-blue-600 w-56 h-screen"]),id:"closeNav"},[e("ul",H,[e("div",{class:"border border-x-0 border-t-0 border-white h-10 w-4/5 flex justify-center items-center mt-5 cursor-pointer",onClick:s[0]||(s[0]=o=>n("teacherDashboard"))},s[7]||(s[7]=[e("p",{class:"cursor-pointer"},"Dashboard",-1)])),e("div",{class:"border border-x-0 border-t-0 border-white h-10 w-4/5 flex justify-center items-center",onClick:s[1]||(s[1]=o=>n("activities"))},s[8]||(s[8]=[e("p",{class:"cursor-pointer"},"Create activities",-1)])),e("div",{class:"border border-x-0 border-t-0 border-white h-10 w-4/5 flex justify-center items-center",onClick:s[2]||(s[2]=o=>n("teacherStudentSettings"))},s[9]||(s[9]=[e("p",{class:"cursor-pointer"},"Student settings",-1)])),e("div",{class:"border border-x-0 border-t-0 border-white h-10 w-4/5 flex justify-center items-center",onClick:s[3]||(s[3]=o=>n("teacherLessonPlanner"))},s[10]||(s[10]=[e("p",{class:"cursor-pointer"},"Lesson planner",-1)])),e("div",{class:"border border-x-0 border-t-0 border-white h-10 w-4/5 flex justify-center items-center",onClick:s[4]||(s[4]=o=>n("teacherCreateNotice"))},s[11]||(s[11]=[e("p",{class:"cursor-pointer"},"Create notice",-1)])),e("div",{class:"border border-x-0 border-t-0 border-white h-10 w-4/5 flex justify-center items-center",onClick:s[5]||(s[5]=o=>n("teacherSettings"))},s[12]||(s[12]=[e("p",{class:"cursor-pointer"},"Teacher settings",-1)])),e("div",{class:"border border-x-0 border-t-0 border-white h-10 w-4/5 flex justify-center items-center",onClick:s[6]||(s[6]=o=>n("creationPanel"))},s[13]||(s[13]=[e("p",{class:"cursor-pointer"},"Creation panel",-1)]))])],2))}},q={class:"w-full flex flex-row justify-center"},K=["placeholder"],Q={class:"bg-blue-950 w-20 rounded-r-md text-white cursor-pointer"},E={__name:"search",props:{placeholder:{type:String,default:"Search"},modelValue:{type:Array,default:()=>[]}},setup(f){return(u,x)=>{const i=D("font-awesome-icon");return l(),c("div",q,[e("input",{type:"search",name:"",id:"",placeholder:f.placeholder,class:"outline-none border border-blue-950 w-2/6 max-sm:w-3/5 max-sm:h-6 h-8 rounded-l-md pl-5"},null,8,K),e("button",Q,[g(i,{icon:"search"})])])}}},X=G("lessonData",{state:()=>({lessonPlan:JSON.parse(localStorage.getItem("lessonPlan")||"[]")}),actions:{addLessonPlan(f,u,x,i,n,t,s){const o={id:Date.now(),teacherId:f,topic:u,lessonPlan:x,startDate:i,endDate:n,selectedGrades:t,selectedSubjects:s,createDate:new Date().toLocaleString()};this.lessonPlan.push(o),this.saveLessonPlanToLocalStorage()},deleteLessonPlan(f){this.lessonPlan=this.lessonPlan.filter(u=>u.id!==f),this.saveLessonPlanToLocalStorage()},updateLessonPlan(f,u,x,i,n,t){const s=this.lessonPlan.findIndex(o=>o.id===id);s!==-1?(this.lessonPlan[s]={...this.lessonPlan[s],topic:f,lessonPlan:u,startDate:x,endDate:i,selectedGrades:n,selectedSubjects:t,uploadDate:new Date().toLocaleString()},this.saveLessonPlanToLocalStorage()):console.error(`Lesson plan with id ${id} not found.`)},saveLessonPlanToLocalStorage(){localStorage.setItem("lessonPlan",JSON.stringify(this.lessonPlan))}}}),Y={class:"w-full h-full flex flex-col justify-center items-center gap-5"},Z={key:0},ee={class:"flex flex-col gap-2 text-white border-0 border-b-2 border-white pb-2"},se={class:"text-3xl max-md:text-lg text-center"},te={class:"border border-blue-950 px-2 rounded max-w-full text-wrap max-sm:text-sm"},ne={class:"max-sm:text-sm max-sm:text-center"},oe={class:"max-sm:text-sm max-sm:text-center"},re={class:"flex flex-row justify-between gap-8 max-sm:text-sm"},le={key:1,class:"px-3 text-center"},ae={__name:"lessonPlan",setup(f){const u=S(),x=T(),n=X().lessonPlan,t=Number(u.params.id),s=n.filter(w=>w.teacherId===t);function o(){x.push({name:"teacherLessonPlanner",params:{teacherId:t}})}return(w,a)=>(l(),c("div",Y,[g(E),p(s).length?(l(),c("div",Z,[(l(!0),c(C,null,P(p(s),b=>(l(),c("div",ee,[e("p",se,[a[0]||(a[0]=e("span",{class:"font-bold"},"Topic: ",-1)),_(v(b.topic),1)]),a[6]||(a[6]=e("p",{class:"max-sm:text-sm max-sm:text-center font-bold"},"Lesson plan:",-1)),e("p",te,v(b.lessonPlan),1),e("p",ne,[a[1]||(a[1]=e("span",{class:"font-bold"},"Grades: ",-1)),_(v(b.selectedGrades.join(", ")),1)]),e("p",oe,[a[2]||(a[2]=e("span",{class:"font-bold max-sm:text-sm"},"Subject/s: ",-1)),_(" "+v(b.selectedSubjects.join(", ")),1)]),e("div",re,[e("p",null,[a[3]||(a[3]=e("span",{class:"font-bold"},"Start date: ",-1)),_(v(b.startDate),1)]),a[5]||(a[5]=_(" - ")),e("p",null,[a[4]||(a[4]=e("span",{class:"font-bold"},"End date: ",-1)),_(v(b.endDate),1)])])]))),256))])):(l(),c("div",le,[e("p",{class:"text-white"},[a[7]||(a[7]=_("No lesson plans, ")),e("span",{onClick:o,class:"underline text-gray-300"},"press here to create some")])]))]))}},ie={class:"chatHeight flex flex-col"},de={class:"w-full flex flex-row pt-5 pl-5"},ce={class:"flex justify-center"},ue={class:"w-full flex items-center justify-center"},me={class:"w-4/5 border border-x-0 border-t-0 text-lg text-center text-white"},xe={class:"h-5/6 flex flex-col justify-between"},pe={class:"pt-10 px-3 text-white h-5/6 overflow-y-auto"},fe={class:"p-2 rounded bg-blue-700"},ve={class:"flex flex-row justify-end h-8 pr-4"},we={__name:"chat window",props:{rid:Number,sid:Number},emits:"closeWindow",setup(f){var $;const u=M(),x=V(),i=B(),n=J();let t=y(),s;const o=f;s=u.teachers.find(r=>r.id===o.rid)||x.students.find(r=>r.id===o.rid)||i.parents.find(r=>r.id===o.rid),u.teachers.find(r=>r.id===o.sid)||x.students.find(r=>r.id===o.sid)||i.parents.find(r=>r.id===o.rid);function w(){var m;if(t.value.trim()==="")return;const r=(m=n.conversations.find(d=>d.participants.includes(o.sid)&&d.participants.includes(o.rid)))==null?void 0:m.conversationId;if(r)n.sendMessage(r,o.sid,t.value);else{const d=n.createConversation([o.sid,o.rid]);n.sendMessage(d.conversationId,o.sid,t.value)}t.value=""}const a=($=n.conversations.find(r=>r.participants.includes(o.sid)&&r.participants.includes(o.rid)))==null?void 0:$.conversationId,b=y(a?n.getMessages(a):[]);return O(()=>n.conversations,()=>{b.value=a?n.getMessages(a):[]}),(r,m)=>{const d=D("font-awesome-icon");return l(),c("div",ie,[e("div",de,[e("div",ce,[e("button",{onClick:m[0]||(m[0]=h=>r.$emit("closeWindow")),class:"border border-red-600 w-6 h-6 rounded-full text-sm text-red-600"},[g(d,{icon:"xmark"})])]),e("div",ue,[e("p",me,v(p(s).name)+" "+v(p(s).surname),1)])]),e("div",xe,[e("div",pe,[(l(!0),c(C,null,P(b.value,h=>(l(),c("div",{key:h.timestamp,class:"mb-2"},[e("p",{class:N({"text-right":h.senderId===o.sid,"text-left":h.senderId===o.rid})},[e("span",fe,v(h.content),1)],2)]))),128))]),e("div",ve,[R(e("input",{type:"text","onUpdate:modelValue":m[1]||(m[1]=h=>I(t)?t.value=h:t=h),class:"border bg-transparent w-3/5"},null,512),[[W,p(t)]]),e("button",{onClick:w,class:"w-10 h-8 rounded-r text-white bg-blue-950"},[g(d,{icon:"paper-plane"})])])])])}}},be={class:"w-full pt-2 max-md:pt-16"},he={key:0,class:"w-full pt-6 px-2 flex flex-col gap-2"},ge=["onClick"],_e={class:"max-sm:text-sm"},$e=["onClick"],ye={class:"max-sm:text-sm"},ke=["onClick"],Ce={class:"max-sm:text-sm"},Pe={key:3,class:"w-full text-center text-white"},je={__name:"messages",setup(f){const u=S(),x=M(),i=V(),n=B(),t=Number(u.params.id);let s=y(!1),o=y();function w($){o.value=Number($),s.value=!0}function a(){s.value=!1}const b=x.teachers.filter($=>$.id!==t);return($,r)=>(l(),c("div",be,[g(E),p(s)?(l(),j(we,{key:1,rid:p(o),sid:p(t),onCloseWindow:a},null,8,["rid","sid"])):(l(),c("div",he,[r[3]||(r[3]=e("div",{class:"bg-gray-200 text-center"},[e("h4",null,"Teachers")],-1)),p(b)?(l(!0),c(C,{key:0},P(p(b),m=>(l(),c("div",{key:m.id,class:"text-white bg-blue-700 h-8 flex flex-row items-center pl-2 gap-2 cursor-pointer",onClick:d=>w(m.id)},[r[0]||(r[0]=e("div",{class:"w-6 h-6 bg-white rounded-full"},null,-1)),e("h2",_e,v(m.name)+" "+v(m.surname)+"....",1)],8,ge))),128)):k("",!0),r[4]||(r[4]=e("div",{class:"bg-gray-200 text-center mt-5"},[e("h4",null,"Students")],-1)),p(i).students?(l(!0),c(C,{key:1},P(p(i).students,m=>(l(),c("div",{key:m.id,class:"text-white bg-blue-700 h-8 flex flex-row items-center pl-2 gap-2 cursor-pointer",onClick:d=>w(m.id)},[r[1]||(r[1]=e("div",{class:"w-6 h-6 bg-white rounded-full"},null,-1)),e("h2",ye,v(m.name)+" "+v(m.surname)+"....",1)],8,$e))),128)):k("",!0),r[5]||(r[5]=e("div",{class:"bg-gray-200 text-center mt-5"},[e("h4",null,"Parents")],-1)),p(n).parents?(l(!0),c(C,{key:2},P(p(n).parents,m=>(l(),c("div",{key:m.id,class:"text-white bg-blue-700 h-8 flex flex-row items-center pl-2 gap-2 cursor-pointer",onClick:d=>w(m.id)},[r[2]||(r[2]=e("div",{class:"w-6 h-6 bg-white rounded-full"},null,-1)),e("h2",Ce,v(m.name)+" "+v(m.surname)+"....",1)],8,ke))),128)):(l(),c("div",Pe," No users found "))]))]))}},Se={class:"w-full h-full gap-3 border flex flex-col justify-center items-center"},Ne={class:"w-32 h-32 flex justify-center items-center rounded-lg bg-slate-200"},De={class:"flex flex-col gap-3 text-center text-white"},Le={class:"text-2xl"},Ie={class:"max-sm:text-sm"},Me={__name:"profileInfo",setup(f){const u=S(),x=T(),i=M(),n=Number(u.params.id),t=z(()=>i.teachers.find(o=>o.id===n));function s(){x.push({name:"editTeacher",params:{id:n,teacherId:n}})}return(o,w)=>{const a=D("font-awesome-icon");return l(),c("div",Se,[e("div",Ne,[g(a,{icon:"user",class:"text-3xl"})]),e("div",De,[e("p",Le,v(t.value.surname)+" "+v(t.value.name),1),(l(!0),c(C,null,P(t.value.assignedClassesAndSubjects,b=>(l(),c("div",null,[e("p",Ie,[w[0]||(w[0]=e("span",{class:"font-semibold"},"Grade:",-1)),_(" "+v(b),1)])]))),256)),e("p",null,[w[1]||(w[1]=e("span",{class:"font-bold"},"Login pin:",-1)),_(" "+v(t.value.pin),1)]),e("p",null,[w[2]||(w[2]=e("span",{class:"font-bold"},"Date created:",-1)),_(" "+v(t.value.createDate),1)]),e("div",{class:"flex flex-row items-center justify-center w-full"},[e("button",{class:"border w-4/5",onClick:s},"Edit")])])])}}},Te={__name:"teacherPanel",props:{changePosition:String,navMode:String},emits:["closeCard"],setup(f,{emit:u}){const x=S();return Number(x.params.id),(i,n)=>{const t=D("font-awesome-icon");return l(),c("nav",{class:N([f.changePosition,"teacherSecondNav transition-all m-0 bg-blue-600 w-3/5 max-md:w-4/5 relative z-500 overflow-y-scroll"])},[e("button",{onClick:n[0]||(n[0]=s=>i.$emit("closeCard")),class:"border w-12 h-10 rounded-full absolute left-2 top-2 flex justify-center items-center text-white"},[g(t,{icon:"arrow-left"})]),f.navMode==="Lesson plans"?(l(),j(ae,{key:0})):k("",!0),f.navMode==="Messages"?(l(),j(je,{key:1})):k("",!0),f.navMode==="Profile"?(l(),j(Me,{key:2})):k("",!0)],2)}}},Ve={class:"w-full h-12 flex flex-col"},Be={class:"m-0 h-screen min-h-12 w-full shadow-xl bg-blue-950 max-sm:px-2.5 px-6 flex flex-row items-center"},Ee={class:"bg-white w-36 h-4/5 max-sm:w-2/4 max-sm:max-w-24 max-sm:h-7 max-sm:rounded-lg rounded-xl flex items-center max-sm:gap-3 justify-between"},Ge={class:"w-full flex justify-end"},Oe={class:"flex flex-row-reverse max-sm:w-4/5 gap-16 max-sm:gap-5 max-sm:items-center"},Re={class:"w-full"},He={__name:"teacherNav",setup(f){let u=y("w-5 max-sm:w-1/2"),x=y("w-2.5 max-sm:w-1/4"),i=y("-translate-x-56"),n=y("-translate-x-full"),t=y("");const s=S(),o=Number(s.params.id),w=M();function a(){i.value==="-translate-x-56"?(u.value="w-full",x.value="w-full",i.value="translate-x-0",n.value="-translate-x-full"):(u.value="w-5",x.value="w-2.5",i.value="-translate-x-56")}function b(){n.value==="-translate-x-full"&&(i.value="translate-x-56",n.value="-translate-x-0",u.value="w-5 max-sm:w-1/2",x.value="w-2.5 max-sm:w-1/4")}function $(){w.logoutTeacher(o),F.push("/")}function r(){n.value="-translate-x-full"}return(m,d)=>{const h=D("font-awesome-icon");return l(),c("div",Ve,[e("nav",Be,[e("div",Ee,[d[6]||(d[6]=e("img",{class:"w-8 max-sm:max-w-6 ml-1",src:A,alt:""},null,-1)),e("div",{class:"flex flex-col gap-2 max-sm:gap-1 cursor-pointer mr-2",onClick:d[0]||(d[0]=L=>a())},[d[5]||(d[5]=e("span",{class:"w-10 max-sm:w-8 h-0.5 bg-blue-600"},null,-1)),e("span",{class:N([p(u),"transition-all h-0.5 bg-blue-600"])},null,2),e("span",{class:N([p(x),"transition-all h-0.5 bg-blue-600"])},null,2)])]),e("div",Ge,[e("ul",Oe,[e("li",{onClick:$,class:"cursor-pointer h-10 w-16 max-sm:w-1/4 max-sm:max-w-14 max-sm:h-7 bg-white text-lg max-sm:text-sm flex justify-center items-center rounded-xl max-sm:rounded-lg"},[g(h,{icon:"sign-out"})]),e("li",{class:"h-10 w-64 max-sm:h-7 max-sm:w-2/3 bg-white text-lg max-sm:text-sm flex justify-center items-center rounded-xl max-sm:rounded-lg",onClick:b},[e("div",{class:"cursor-pointer w-1/4 text-center",onClick:d[1]||(d[1]=L=>console.log("Timetable"))},[g(h,{icon:"table"})]),e("div",{class:"cursor-pointer w-1/4 text-center border border-y-0 border-black",onClick:d[2]||(d[2]=L=>I(t)?t.value="Messages":t="Messages")},[g(h,{icon:"message"})]),e("div",{class:"cursor-pointer w-1/4 text-center border border-y-0 border-l-0 border-black",onClick:d[3]||(d[3]=L=>I(t)?t.value="Lesson plans":t="Lesson plans")},[g(h,{icon:"clipboard-list"})]),e("div",{class:"cursor-pointer w-1/4 text-center",onClick:d[4]||(d[4]=L=>I(t)?t.value="Profile":t="Profile")},[g(h,{icon:"user"})])])])])]),e("div",Re,[p(i)==="translate-x-0"?(l(),j(U,{key:0,changeNav:p(i)},null,8,["changeNav"])):k("",!0),p(n)==="-translate-x-0"?(l(),j(Te,{key:1,onCloseCard:r,changePosition:p(n),"nav-mode":p(t)},null,8,["changePosition","nav-mode"])):k("",!0)])])}}};export{He as _,E as a,X as u};
