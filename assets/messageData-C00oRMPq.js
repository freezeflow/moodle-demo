import{s as a}from"./index-CwIRFKx0.js";const i=a("messageData",{state:()=>{const s=JSON.parse(localStorage.getItem("messagesStore"));return{conversations:(s==null?void 0:s.conversations)||[],lastConversationId:(s==null?void 0:s.lastConversationId)||0}},actions:{sendMessage(s,t,e){const o=this.conversations.find(n=>n.conversationId===s);o&&(o.messages.push({senderId:t,content:e,timestamp:new Date().toISOString()}),localStorage.setItem("messagesStore",JSON.stringify({conversations:this.conversations,lastConversationId:this.lastConversationId})))},createConversation(s){this.lastConversationId+=1;const t={conversationId:this.lastConversationId,participants:s,messages:[],createdAt:new Date().toISOString()};return this.conversations.push(t),localStorage.setItem("messagesStore",JSON.stringify({conversations:this.conversations,lastConversationId:this.lastConversationId})),t},getMessages(s){const t=this.conversations.find(e=>e.conversationId===s);return(t==null?void 0:t.messages)||[]}}});export{i as u};
