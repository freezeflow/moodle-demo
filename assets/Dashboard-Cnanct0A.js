import{j as D,o as l,c as d,a as e,f as b,r as g,C as z,t as c,u as x,F as y,p as N,x as P,w as G,v as R,i as M,k,d as j,b as S,l as W,m as E,n as $,_ as F,h as L}from"./index-CwIRFKx0.js";import{u as C}from"./studentData-CoaBhV-D.js";import{u as I}from"./teacherData-Des5ZfOl.js";import{u as A}from"./messageData-C00oRMPq.js";import{u as H}from"./noticeData-zuiXsLA4.js";const O={class:"w-full flex flex-row justify-center"},U=["placeholder"],q={class:"bg-blue-950 w-20 rounded-r-md text-white cursor-pointer"},J={__name:"search",props:{placeholder:{type:String,default:"Search"},modelValue:{type:Array,default:()=>[]}},setup(v){return(_,p)=>{const r=D("font-awesome-icon");return l(),d("div",O,[e("input",{type:"search",name:"",id:"",placeholder:v.placeholder,class:"outline-none border border-blue-950 w-2/6 max-sm:w-3/5 max-sm:h-6 h-8 rounded-l-md pl-5"},null,8,U),e("button",q,[b(r,{icon:"search"})])])}}},K={class:"chatHeight flex flex-col"},Q={class:"w-full flex flex-row pt-5 pl-5"},X={class:"flex justify-center"},Y={class:"w-full flex items-center justify-center"},Z={class:"w-4/5 border border-x-0 border-t-0 text-lg text-center text-white"},ee={class:"h-5/6 flex flex-col justify-between"},se={class:"pt-10 px-3 text-white h-5/6 overflow-y-auto"},te={class:"p-2 rounded bg-blue-700"},ne={class:"flex flex-row justify-end h-8 pr-4"},oe={__name:"chat window",props:{rid:Number,sid:Number},emits:"closeWindow",setup(v){var a;const _=I(),p=C(),r=A();let s=g(),i;const t=v;i=_.teachers.find(n=>n.id===t.rid)||p.students.find(n=>n.id===t.rid),_.teachers.find(n=>n.id===t.sid)||p.students.find(n=>n.id===t.sid);function m(){var o;if(s.value.trim()==="")return;const n=(o=r.conversations.find(w=>w.participants.includes(t.sid)&&w.participants.includes(t.rid)))==null?void 0:o.conversationId;if(n)r.sendMessage(n,t.sid,s.value);else{const w=r.createConversation([t.sid,t.rid]);r.sendMessage(w.conversationId,t.sid,s.value)}s.value=""}const u=(a=r.conversations.find(n=>n.participants.includes(t.sid)&&n.participants.includes(t.rid)))==null?void 0:a.conversationId,f=g(u?r.getMessages(u):[]);return z(()=>r.conversations,()=>{f.value=u?r.getMessages(u):[]}),(n,o)=>{const w=D("font-awesome-icon");return l(),d("div",K,[e("div",Q,[e("div",X,[e("button",{onClick:o[0]||(o[0]=h=>n.$emit("closeWindow")),class:"border border-red-600 w-6 h-6 rounded-full text-sm text-red-600"},[b(w,{icon:"xmark"})])]),e("div",Y,[e("p",Z,c(x(i).name)+" "+c(x(i).surname),1)])]),e("div",ee,[e("div",se,[(l(!0),d(y,null,N(f.value,h=>(l(),d("div",{key:h.timestamp,class:"mb-2"},[e("p",{class:P({"text-right":h.senderId===t.sid,"text-left":h.senderId===t.rid})},[e("span",te,c(h.content),1)],2)]))),128))]),e("div",ne,[G(e("input",{type:"text","onUpdate:modelValue":o[1]||(o[1]=h=>M(s)?s.value=h:s=h),class:"border bg-transparent w-3/5"},null,512),[[R,x(s)]]),e("button",{onClick:m,class:"w-10 h-8 rounded-r text-white bg-blue-950"},[b(w,{icon:"paper-plane"})])])])])}}},le={class:"w-full pt-2 max-md:pt-16"},ae={key:0,class:"w-full pt-6 px-2 flex flex-col gap-2"},re=["onClick"],ie={class:"max-sm:text-sm"},de=["onClick"],ce={class:"max-sm:text-sm"},ue={key:2,class:"w-full text-center text-white"},me={__name:"messages",setup(v){const _=k(),p=I(),r=C(),s=Number(_.params.id);let i=g(!1),t=g();function m(a){t.value=Number(a),i.value=!0}function u(){i.value=!1}const f=r.students.filter(a=>a.id!==s);return(a,n)=>(l(),d("div",le,[b(J),x(i)?(l(),S(oe,{key:1,rid:x(t),sid:x(s),onCloseWindow:u},null,8,["rid","sid"])):(l(),d("div",ae,[n[2]||(n[2]=e("div",{class:"bg-gray-200 text-center"},[e("h4",null,"Teachers")],-1)),x(p).teachers?(l(!0),d(y,{key:0},N(x(p).teachers,o=>(l(),d("div",{key:o.id,class:"text-white bg-blue-700 h-8 flex flex-row items-center pl-2 gap-2 cursor-pointer",onClick:w=>m(o.id)},[n[0]||(n[0]=e("div",{class:"w-6 h-6 bg-white rounded-full"},null,-1)),e("h2",ie,c(o.name)+" "+c(o.surname)+"....",1)],8,re))),128)):j("",!0),n[3]||(n[3]=e("div",{class:"bg-gray-200 text-center mt-5"},[e("h4",null,"Students")],-1)),x(f)?(l(!0),d(y,{key:1},N(x(f),o=>(l(),d("div",{key:o.id,class:"text-white bg-blue-700 h-8 flex flex-row items-center pl-2 gap-2 cursor-pointer",onClick:w=>m(o.id)},[n[1]||(n[1]=e("div",{class:"w-6 h-6 bg-white rounded-full"},null,-1)),e("h2",ce,c(o.name)+" "+c(o.surname)+"....",1)],8,de))),128)):(l(),d("div",ue," No users found "))]))]))}},fe={class:"w-full h-full gap-3 flex flex-col justify-center items-center"},xe={class:"w-32 h-32 flex justify-center items-center rounded-lg bg-slate-200"},pe={class:"flex flex-col gap-3 text-center text-white"},_e={class:"text-2xl"},we={class:"grid grid-cols-2"},be={class:"max-sm:text-sm"},ve={__name:"profileInfo",setup(v){const _=k();W();const p=C(),r=Number(_.params.id),s=E(()=>p.students.find(i=>i.id===r));return(i,t)=>{const m=D("font-awesome-icon");return l(),d("div",fe,[e("div",xe,[b(m,{icon:"user",class:"text-3xl"})]),e("div",pe,[e("p",_e,c(s.value.surname)+" "+c(s.value.name),1),e("p",null,[t[0]||(t[0]=e("span",{class:"font-bold"},"Grade & Class:",-1)),$(" "+c(s.value.grade)+" "+c(s.value.classes),1)]),t[3]||(t[3]=e("p",{class:"font-semibold"},"Enrolled subjects:",-1)),e("div",we,[(l(!0),d(y,null,N(s.value.selectedSubjects,u=>(l(),d("div",null,[e("p",be,c(u),1)]))),256))]),e("p",null,[t[1]||(t[1]=e("span",{class:"font-bold"},"Login pin:",-1)),$(" "+c(s.value.pin),1)]),e("p",null,[t[2]||(t[2]=e("span",{class:"font-bold"},"Date created:",-1)),$(" "+c(s.value.createDate),1)])])])}}},ge={__name:"studentPanel",props:{changePosition:String,navMode:String},emits:["closeCard"],setup(v,{emit:_}){const p=k();return Number(p.params.id),(r,s)=>{const i=D("font-awesome-icon");return l(),d("nav",{class:P([v.changePosition,"teacherSecondNav transition-all m-0 bg-blue-600 w-3/5 max-md:w-4/5 relative z-500 overflow-y-scroll"])},[e("button",{onClick:s[0]||(s[0]=t=>r.$emit("closeCard")),class:"border w-12 h-10 rounded-full absolute left-2 top-2 flex justify-center items-center text-white"},[b(i,{icon:"arrow-left"})]),v.navMode==="Messages"?(l(),S(me,{key:0})):j("",!0),v.navMode==="Profile"?(l(),S(ve,{key:1})):j("",!0)],2)}}},he={class:"transition-all m-0 bg-blue-600 w-full h-10",id:"closeNav"},$e={class:"flex flex-row justify-start max-md:justify-center gap-4 p-2 text-white"},je={__name:"secondStudentNav",emits:["subjects","notices"],setup(v,{emit:_}){const p=_;let r=g("border-blue-200 text-blue-200"),s=g("border-white");function i(){p("subjects"),s.value="border-white",r.value="border-blue-200 text-blue-200"}function t(){p("notices"),r.value="border-white",s.value="border-blue-200 text-blue-200"}return(m,u)=>(l(),d("nav",he,[e("ul",$e,[e("div",{class:P([x(r),"border rounded-lg h-6 w-1/5 max-md:w-1/3 text-center"]),onClick:i},u[0]||(u[0]=[e("p",{class:"cursor-pointer"},"Subjects",-1)]),2),e("div",{class:P([x(s),"border rounded-lg h-6 w-1/5 max-md:w-1/3 text-center"]),onClick:t},u[1]||(u[1]=[e("p",{class:"cursor-pointer"},"Notices",-1)]),2)])]))}},ye={class:"w-full h-12 flex flex-col"},ke={class:"m-0 h-screen min-h-12 w-full shadow-xl bg-blue-950 max-sm:px-2.5 px-6 flex flex-row items-center"},Ce={class:"w-full flex justify-end"},Ne={class:"flex flex-row-reverse max-sm:w-4/5 gap-16 max-sm:gap-5 max-sm:items-center"},Se={class:"w-full"},De={__name:"studentNav",setup(v){let _=g("w-5 max-sm:w-1/2"),p=g("w-2.5 max-sm:w-1/4"),r=g("-translate-x-56"),s=g("-translate-x-full"),i=g("");const t=k();Number(t.params.id),C();function m(){s.value==="-translate-x-full"&&(r.value="translate-x-56",s.value="-translate-x-0",_.value="w-5 max-sm:w-1/2",p.value="w-2.5 max-sm:w-1/4")}function u(){s.value="-translate-x-full"}function f(){L.push("/")}return(a,n)=>{const o=D("font-awesome-icon");return l(),d("div",ye,[e("nav",ke,[n[3]||(n[3]=e("div",{class:"bg-white w-36 h-4/5 max-sm:w-2/4 max-sm:max-w-24 max-sm:h-7 max-sm:rounded-lg rounded-xl flex justify-center items-center max-sm:gap-3 gap-7"},[e("img",{class:"w-8 max-sm:max-w-6",src:F,alt:""})],-1)),e("div",Ce,[e("ul",Ne,[e("li",{onClick:f,class:"cursor-pointer h-10 w-16 max-sm:w-1/4 max-sm:max-w-14 max-sm:h-7 bg-white text-lg max-sm:text-sm flex justify-center items-center rounded-xl max-sm:rounded-lg"},[b(o,{icon:"sign-out"})]),e("li",{class:"h-10 w-44 max-sm:h-7 max-sm:w-2/3 bg-white text-lg max-sm:text-sm flex justify-center items-center rounded-xl max-sm:rounded-lg",onClick:m},[e("div",{class:"cursor-pointer w-1/3 text-center",onClick:n[0]||(n[0]=w=>console.log("Timetable"))},[b(o,{icon:"table"})]),e("div",{class:"cursor-pointer w-1/3 text-center border border-y-0 border-black",onClick:n[1]||(n[1]=w=>M(i)?i.value="Messages":i="Messages")},[b(o,{icon:"message"})]),e("div",{class:"cursor-pointer w-1/3 text-center",onClick:n[2]||(n[2]=w=>M(i)?i.value="Profile":i="Profile")},[b(o,{icon:"user"})])])])])]),e("div",Se,[x(s)==="-translate-x-0"?(l(),S(ge,{key:0,onCloseCard:u,changePosition:x(s),"nav-mode":x(i)},null,8,["changePosition","nav-mode"])):j("",!0)])])}}},Me={class:"w-full h-screen flex flex-col gap-10"},Pe={class:"w-full md:px-5 grid md:grid-cols-5 max-md:grid-cols-1 justify-items-center items-center gap-5"},Ie=["onClick"],Te={class:"text-center"},Ve={__name:"Subjects",setup(v){const _=C(),p=k(),r=W(),s=Number(p.params.id),i=_.students.find(m=>m.id===s);function t(m){r.push({name:"subject",params:{id:s,subject:m}})}return(m,u)=>(l(),d("div",Me,[e("div",Pe,[(l(!0),d(y,null,N(x(i).selectedSubjects,f=>(l(),d("div",{class:"bg-slate-200 max-md:w-4/5 max-md:h-40 w-36 h-40 flex flex-col justify-center items-center rounded-t-lg gap-2 cursor-pointer",onClick:a=>t(f)},[u[0]||(u[0]=e("div",{class:"max-md:w-4/5 max-md:h-28 w-32 h-28 bg-white rounded-t-lg"},null,-1)),e("p",Te,c(f),1)],8,Ie))),256))])]))}},Be={key:0,class:"flex flex-row gap-3"},We={class:"underline"},ze={key:1,class:"flex flex-row gap-3"},Ge={class:"underline"},Re={key:2,class:"flex flex-row gap-3"},Ee={class:"underline"},Fe={class:"text-lg"},Le={__name:"Notices",setup(v){const _=H(),p=I(),r=C(),s=k(),i=Number(s.params.id),t=r.students.find(f=>f.id===i),m=_.notices.filter(f=>{const a=f.subjects?t.selectedSubjects.some(w=>f.subjects.includes(w)):!1,n=f.grades?f.grades.includes(t.grade):!1,o=f.grades===null&&f.subjects===null;return a||n||o}),u=m.map(f=>p.teachers.find(a=>a.id===f.teacherId));return(f,a)=>{const n=D("font-awesome-icon");return l(!0),d(y,null,N(x(m),(o,w)=>{var h,T,V,B;return l(),d("div",{key:w,class:"w-3/5 border border-blue-600 border-x-0 border-t-0 flex flex-col"},[o.subjects&&!o.grades?(l(),d("div",Be,[b(n,{icon:"bullhorn",class:"text-red-600"}),e("p",null,[a[0]||(a[0]=$(" To all ")),e("span",We,c(((h=o.subjects)==null?void 0:h.join(", "))||""),1),a[1]||(a[1]=$(" students"))])])):j("",!0),o.grades&&!o.subjects?(l(),d("div",ze,[b(n,{icon:"bullhorn",class:"text-red-600"}),e("p",null,[a[2]||(a[2]=$(" To all ")),e("span",Ge,c(((T=o.grades)==null?void 0:T.join(", "))||""),1),a[3]||(a[3]=$(" students"))])])):j("",!0),o.grades&&o.subjects?(l(),d("div",Re,[b(n,{icon:"bullhorn",class:"text-red-600"}),e("p",null,[a[4]||(a[4]=$(" To all grade ")),e("span",Ee,c(((V=o.grades)==null?void 0:V.join(", "))||"")+" "+c(((B=o.subjects)==null?void 0:B.join(", "))||""),1),a[5]||(a[5]=$(" students"))])])):j("",!0),e("p",Fe,c(o.noticeMsg),1),e("p",null,[a[6]||(a[6]=e("span",{class:"font-semibold"},"Notice from:",-1)),$(" "+c(x(u)[w].name)+" "+c(x(u)[w].surname),1)]),e("p",null,[a[7]||(a[7]=e("span",{class:"font-semibold"},"Notice date:",-1)),$(" "+c(o.createDate),1)])])}),128)}}},Ae={class:"fixed z-50 w-full"},He={class:"w-full h-screen flex flex-col gap-10 justify-center items-center pt-32 max-md:pt-44"},Oe={class:"text-2xl max-sm:text-xl"},Xe={__name:"Dashboard",setup(v){const _=C(),p=k(),r=Number(p.params.id);let s=g("Subject");const i=_.students.find(t=>t.id===r);return(t,m)=>(l(),d(y,null,[e("div",Ae,[b(De),b(je,{onSubjects:m[0]||(m[0]=u=>M(s)?s.value="Subject":s="Subject"),onNotices:m[1]||(m[1]=u=>M(s)?s.value="Notices":s="Notices")})]),e("div",He,[e("h1",Oe,"Welcome back "+c(x(i).name),1),x(s)==="Subject"?(l(),S(Ve,{key:0})):j("",!0),x(s)==="Notices"?(l(),S(Le,{key:1})):j("",!0)])],64))}};export{Xe as default};
