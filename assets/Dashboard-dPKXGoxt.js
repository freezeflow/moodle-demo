import{j as P,o as s,c as o,a as e,f as k,r as N,C as A,t as l,u as b,F as I,p as z,x as M,w as H,v as L,i as E,k as Q,b as T,l as F,m as U,n as S,d as D,_ as J,A as V}from"./index-CwIRFKx0.js";import{u as O}from"./teacherData-Des5ZfOl.js";import{u as G}from"./studentData-CoaBhV-D.js";import{u as K}from"./messageData-C00oRMPq.js";import{u as W}from"./parentsData-nJOEJgqE.js";import{u as X}from"./noticeData-zuiXsLA4.js";import{u as R}from"./parentStudentData-CtZKbBmW.js";import{u as Y}from"./quizData-DemVtmlC.js";import{u as Z}from"./quizGrades-BAqxXVAX.js";import{u as ee}from"./fileData-BPcDlXXT.js";const te={class:"w-full flex flex-row justify-center"},se=["placeholder"],ne={class:"bg-blue-950 w-20 rounded-r-md text-white cursor-pointer"},oe={__name:"search",props:{placeholder:{type:String,default:"Search"},modelValue:{type:Array,default:()=>[]}},setup(j){return(w,c)=>{const m=P("font-awesome-icon");return s(),o("div",te,[e("input",{type:"search",name:"",id:"",placeholder:j.placeholder,class:"outline-none border border-blue-950 w-2/6 max-sm:w-3/5 max-sm:h-6 h-8 rounded-l-md pl-5"},null,8,se),e("button",ne,[k(m,{icon:"search"})])])}}},le={class:"chatHeight flex flex-col"},re={class:"w-full flex flex-row pt-5 pl-5"},ae={class:"flex justify-center"},ie={class:"w-full flex items-center justify-center"},de={class:"w-4/5 border border-x-0 border-t-0 text-lg text-center text-white"},ue={class:"h-5/6 flex flex-col justify-between"},ce={class:"pt-10 px-3 text-white h-5/6 overflow-y-auto"},me={class:"max-md:text-sm"},fe={class:"text-gray-400 text-xs mt-2"},pe={class:"flex flex-row justify-end h-8 pr-4"},xe={__name:"chat window",props:{rid:Number,sid:Number},emits:"closeWindow",setup(j){var y;const w=O(),c=G(),m=K();let i=N(),x;const r=j;x=w.teachers.find(t=>t.id===r.rid)||c.students.find(t=>t.id===r.rid),w.teachers.find(t=>t.id===r.sid)||c.students.find(t=>t.id===r.sid);function $(){var n;if(i.value.trim()==="")return;const t=(n=m.conversations.find(g=>g.participants.includes(r.sid)&&g.participants.includes(r.rid)))==null?void 0:n.conversationId;if(t)m.sendMessage(t,r.sid,i.value);else{const g=m.createConversation([r.sid,r.rid]);m.sendMessage(g.conversationId,r.sid,i.value)}i.value=""}const v=(y=m.conversations.find(t=>t.participants.includes(r.sid)&&t.participants.includes(r.rid)))==null?void 0:y.conversationId,_=N(v?m.getMessages(v):[]);return A(()=>m.conversations,()=>{_.value=v?m.getMessages(v):[]}),(t,n)=>{const g=P("font-awesome-icon");return s(),o("div",le,[e("div",re,[e("div",ae,[e("button",{onClick:n[0]||(n[0]=d=>t.$emit("closeWindow")),class:"border border-red-600 w-6 h-6 rounded-full text-sm text-red-600"},[k(g,{icon:"xmark"})])]),e("div",ie,[e("p",de,l(b(x).name)+" "+l(b(x).surname),1)])]),e("div",ue,[e("div",ce,[(s(!0),o(I,null,z(_.value,d=>(s(),o("div",{key:d.timestamp,class:"mb-2"},[e("p",{class:M([{"text-right":d.senderId===r.sid,"text-left":d.senderId===r.rid},"bg-blue-900 rounded p-2 flex flex-col"])},[e("span",me,l(d.content),1),e("span",fe,l(d.timestamp),1)],2)]))),128))]),e("div",pe,[H(e("input",{type:"text","onUpdate:modelValue":n[1]||(n[1]=d=>E(i)?i.value=d:i=d),class:"border bg-transparent w-3/5 p-3"},null,512),[[L,b(i)]]),e("button",{onClick:$,class:"w-10 h-8 rounded-r text-white bg-blue-950"},[k(g,{icon:"paper-plane"})])])])])}}},_e={class:"w-full pt-2 max-md:pt-16"},be={key:0,class:"w-full pt-6 px-2 flex flex-col gap-2"},we=["onClick"],ve={class:"max-sm:text-sm"},ge={key:1,class:"w-full text-center text-white"},he={__name:"messages",setup(j){const w=Q(),c=O(),m=Number(w.params.id);let i=N(!1),x=N();function r(v){x.value=Number(v),i.value=!0}function $(){i.value=!1}return(v,_)=>(s(),o("div",_e,[k(oe),b(i)?(s(),T(xe,{key:1,rid:b(x),sid:b(m),onCloseWindow:$},null,8,["rid","sid"])):(s(),o("div",be,[_[1]||(_[1]=e("div",{class:"bg-gray-200 text-center"},[e("h4",null,"Teachers")],-1)),b(c).teachers?(s(!0),o(I,{key:0},z(b(c).teachers,y=>(s(),o("div",{key:y.id,class:"text-white bg-blue-700 h-8 flex flex-row items-center pl-2 gap-2 cursor-pointer",onClick:t=>r(y.id)},[_[0]||(_[0]=e("div",{class:"w-6 h-6 bg-white rounded-full"},null,-1)),e("h2",ve,l(y.name)+" "+l(y.surname)+"....",1)],8,we))),128)):(s(),o("div",ge," No users found "))]))]))}},$e={class:"w-full h-full gap-3 flex flex-col justify-center items-center"},ye={class:"w-32 h-32 flex justify-center items-center rounded-lg bg-slate-200"},ke={class:"flex flex-col gap-3 text-center text-white"},Ce={class:"text-2xl"},Se={__name:"profileInfo",setup(j){const w=Q(),c=F(),m=W(),i=Number(w.params.id),x=U(()=>m.parents.find($=>$.id===i));function r(){c.push({name:"editParentProfile",params:{id:i}})}return($,v)=>{const _=P("font-awesome-icon");return s(),o("div",$e,[e("div",ye,[k(_,{icon:"user",class:"text-3xl"})]),e("div",ke,[e("p",Ce,l(x.value.surname)+" "+l(x.value.name),1),e("p",null,[v[0]||(v[0]=e("span",{class:"font-bold"},"Email:",-1)),S(" "+l(x.value.email),1)]),e("p",null,[v[1]||(v[1]=e("span",{class:"font-bold"},"Mobile Number:",-1)),S(" "+l(x.value.mobileNum),1)]),e("p",null,[v[2]||(v[2]=e("span",{class:"font-bold"},"Password:",-1)),S(" "+l(x.value.password),1)]),e("button",{class:"w-full border",onClick:r},"Edit")])])}}},je={__name:"parentPanel",props:{changePosition:String,navMode:String},emits:["closeCard"],setup(j,{emit:w}){const c=Q();return Number(c.params.id),(m,i)=>{const x=P("font-awesome-icon");return s(),o("nav",{class:M([j.changePosition,"teacherSecondNav transition-all m-0 bg-blue-600 w-3/5 max-md:w-4/5 relative z-500 overflow-y-scroll"])},[e("button",{onClick:i[0]||(i[0]=r=>m.$emit("closeCard")),class:"border w-12 h-10 rounded-full absolute left-2 top-2 flex justify-center items-center text-white"},[k(x,{icon:"arrow-left"})]),j.navMode==="Messages"?(s(),T(he,{key:0})):D("",!0),j.navMode==="Profile"?(s(),T(Se,{key:1})):D("",!0)],2)}}},Ne={class:"w-full h-12 flex flex-col fixed z-50"},De={class:"m-0 h-screen min-h-12 w-full shadow-xl bg-blue-950 max-sm:px-2.5 px-6 flex flex-row items-center"},Ie={class:"w-full flex justify-end"},ze={class:"flex flex-row-reverse max-sm:w-4/5 gap-12 max-sm:gap-5 max-sm:items-center"},Me={class:"w-full"},Pe={__name:"parentNav",setup(j){let w=N("-translate-x-full"),c=N("");const m=Q(),i=F(),x=Number(m.params.id);function r(){w.value==="-translate-x-full"&&(w.value="-translate-x-0")}function $(){w.value="-translate-x-full"}function v(y){i.push({name:y,params:{id:x}})}function _(){i.push("/")}return(y,t)=>{const n=P("font-awesome-icon");return s(),o("div",Ne,[e("nav",De,[t[3]||(t[3]=e("div",{class:"bg-white w-36 h-4/5 max-sm:w-2/4 max-sm:max-w-24 max-sm:h-7 max-sm:rounded-lg rounded-xl flex justify-center items-center max-sm:gap-3 gap-7"},[e("img",{class:"w-8 max-sm:max-w-6",src:J,alt:""})],-1)),e("div",Ie,[e("ul",ze,[e("li",{onClick:_,class:"cursor-pointer h-10 w-16 max-sm:w-1/4 max-sm:max-w-14 max-sm:h-7 bg-white text-lg max-sm:text-sm flex justify-center items-center rounded-xl max-sm:rounded-lg"},[k(n,{icon:"sign-out"})]),e("li",{class:"h-10 w-44 max-sm:h-7 max-sm:w-2/3 bg-white text-lg max-sm:text-sm flex justify-center items-center rounded-xl max-sm:rounded-lg",onClick:r},[e("div",{class:"cursor-pointer w-1/3 text-center border border-y-0 border-black",onClick:t[0]||(t[0]=g=>E(c)?c.value="Messages":c="Messages")},[k(n,{icon:"message"})]),e("div",{class:"cursor-pointer w-1/3 text-center border border-y-0 border-l-0 border-black",onClick:t[1]||(t[1]=g=>v("addStudent"))},[k(n,{icon:"user-plus"})]),e("div",{class:"cursor-pointer w-1/3 text-center",onClick:t[2]||(t[2]=g=>E(c)?c.value="Profile":c="Profile")},[k(n,{icon:"user"})])])])])]),e("div",Me,[b(w)==="-translate-x-0"?(s(),T(je,{key:0,onCloseCard:$,changePosition:b(w),"nav-mode":b(c)},null,8,["changePosition","nav-mode"])):D("",!0)])])}}},Te={key:0,class:"flex flex-row gap-3"},Qe={class:"underline"},Ge={key:1,class:"flex flex-row gap-3"},qe={class:"underline"},Ve={key:2,class:"flex flex-row gap-3"},Ee={class:"underline"},Fe={class:"text-lg max-md:text-center py-2 text-black"},Oe={__name:"Notices",setup(j){const w=X(),c=O(),m=G(),i=R(),x=Q(),r=Number(x.params.id),$=i.parentSudent.filter(t=>t.parentId===r),v=m.students.filter(t=>$.some(n=>n.studentId===t.id)),_=w.notices.filter(t=>v.some(n=>{const g=t.subjects?n.selectedSubjects.some(p=>t.subjects.includes(p)):!1,d=t.grades?t.grades.includes(n.grade):!1,f=t.grades===null&&t.subjects===null;return g||d||f})),y=_.map(t=>c.teachers.find(n=>n.id===t.teacherId));return(t,n)=>{const g=P("font-awesome-icon");return s(!0),o(I,null,z(b(_),(d,f)=>{var p,C,u,a;return s(),o("div",{key:f,class:"md:w-3/5 border text-gray-600 border-blue-600 border-x-0 border-t-0 flex flex-col max-md:justify-center max-md:items-center pl-2"},[d.subjects&&!d.grades?(s(),o("div",Te,[k(g,{icon:"bullhorn",class:"text-red-600"}),e("p",null,[n[0]||(n[0]=S(" To all ")),e("span",Qe,l(((p=d.subjects)==null?void 0:p.join(", "))||""),1),n[1]||(n[1]=S(" students"))])])):D("",!0),d.grades&&!d.subjects?(s(),o("div",Ge,[k(g,{icon:"bullhorn",class:"text-red-600"}),e("p",null,[n[2]||(n[2]=S(" To all ")),e("span",qe,l(((C=d.grades)==null?void 0:C.join(", "))||""),1),n[3]||(n[3]=S(" students"))])])):D("",!0),d.grades&&d.subjects?(s(),o("div",Ve,[k(g,{icon:"bullhorn",class:"text-red-600"}),e("p",null,[n[4]||(n[4]=S(" To all grade ")),e("span",Ee,l(((u=d.grades)==null?void 0:u.join(", "))||"")+" "+l(((a=d.subjects)==null?void 0:a.join(", "))||""),1),n[5]||(n[5]=S(" students"))])])):D("",!0),e("p",Fe,l(d.noticeMsg),1),e("p",null,[n[6]||(n[6]=e("span",{class:"font-semibold"},"Notice from:",-1)),S(" "+l(b(y)[f].name)+" "+l(b(y)[f].surname),1)]),e("p",null,[n[7]||(n[7]=e("span",{class:"font-semibold"},"Notice date:",-1)),S(" "+l(d.createDate),1)])])}),128)}}},Be={key:0,class:"w-full flex flex-col gap-10"},We={class:""},Re={class:"font-semibold text-lg"},Ae={class:"flex flex-col gap-6"},He={class:"border border-x-0 border-t-0 w-3/5"},Le=["onClick"],Ue={class:"font-semibold"},Je={key:0,class:"w-4/5 pl-2"},Ke=["onClick"],Xe={class:""},Ye={key:0,class:"bg-blue-300 p-2 rounded shadow-lg flex flex-col gap-2"},Ze={class:"bg-blue-200 p-2 rounded shadow-lg"},et={class:"font-bold text-lg"},tt={key:1,class:"bg-red-300 shadow-lg p-2 rounded"},st={class:"flex flex-row justify-start items-center gap-5"},nt={class:""},ot={key:1},lt={__name:"Subjects",props:["Ids"],setup(j){const w=j,c=G(),m=Z(),i=ee(),x=Y(),r=V({}),$=V({});V({});const v=c.students.filter(f=>w.Ids.includes(f.id));function _(f,p){return x.quizes.filter(u=>u.subject===f&&u.grade===p)}function y(f,p){return m.quizGrades.filter(u=>u.studentId===f&&u.quizId===p)}function t(f,p){return i.files.filter(u=>u.selectedSubjects.includes(f)&&u.selectedClasses.includes(p))}function n(f){return f.reduce((p,C)=>p+C,0)}function g(f){r[f]=!r[f]}function d(f,p){const C=`${f}-${p}`;$[C]=!$[C]}return(f,p)=>{const C=P("font-awesome-icon");return f.$props.Ids?(s(),o("div",Be,[(s(!0),o(I,null,z(b(v),u=>(s(),o("div",We,[e("p",Re,l(u.name)+" "+l(u.surname)+"'s subjects:",1),e("div",Ae,[(s(!0),o(I,null,z(u.selectedSubjects,a=>(s(),o("div",He,[e("div",{class:"flex flex-row justify-between cursor-pointer",onClick:h=>d(a,u.grade)},[e("h2",Ue,l(a)+": ",1),k(C,{icon:$[`${a}-${u.grade}`]?"chevron-up":"chevron-down"},null,8,["icon"])],8,Le),$[`${a}-${u.grade}`]?(s(),o("div",Je,[e("div",{class:"flex flex-row w-2/5 shadow-sm justify-start items-center gap-5 cursor-pointer",onClick:h=>g(a)},[e("h3",Xe,l(a)+" Quizes",1),k(C,{icon:r[a]&&_(a,u.grade)?"minus":"plus",class:M(r[a]&&_(a,u.grade).length?"text-red-600":"text-blue-600")},null,8,["icon","class"])],8,Ke),r[a]&&_(a,u.grade).length?(s(),o("div",Ye,[(s(!0),o(I,null,z(_(a,u.grade),(h,q)=>(s(),o("div",Ze,[e("p",et,"Quiz #"+l(q+1),1),e("p",null,[p[0]||(p[0]=e("span",{class:"font-semibold"},"Title:",-1)),S(" "+l(h.title),1)]),(s(!0),o(I,null,z(y(u.id,h.id),B=>(s(),o("div",null,[e("p",null,[p[1]||(p[1]=e("span",{class:"font-semibold"},"Grade:",-1)),S(" "+l(B.points)+"/"+l(n(h.points)),1)]),e("p",null,[p[2]||(p[2]=e("span",{class:"font-semibold"},"Date completed:",-1)),S(" "+l(B.createDate),1)])]))),256)),e("p",null,[p[3]||(p[3]=e("span",{class:"font-semibold"},"Date created:",-1)),S(" "+l(h.createDate),1)])]))),256))])):r[a]&&!_(a,u.grade).length?(s(),o("div",tt," No quizes for this subject ")):D("",!0),e("div",null,[e("div",st,[e("h3",nt,l(a)+" Files",1),k(C,{icon:f.isQuizOpen&&_(a,u.grade)?"minus":"plus",class:M(f.isQuizOpen&&_(a,u.grade)?"text-red-600":"text-green-600")},null,8,["icon","class"])]),(s(!0),o(I,null,z(t(u.subject,u.grade),(h,q)=>(s(),o("div",null,l(h.title),1))),256))])])):D("",!0)]))),256))])]))),256))])):(s(),o("div",ot," No student found "))}}},rt={class:"w-full"},at={class:"w-full fixed top-11 bg-blue-600 md:h-10 h-16 max-md:p-2 mt-0.5 flex flex-row justify-start pl-2 md:items-center text-white gap-3"},it={class:"w-full h-screen flex flex-col gap-4 pt-32"},dt={class:"md:text-xl text-lg text-center"},ut={key:0},ct={key:1},$t={__name:"Dashboard",setup(j){let w=N("border-white"),c=N("border-blue-200 text-blue-200"),m=N("border-white"),i=N("Notices"),x=[];const r=W(),$=G(),v=R();function _(){i.value="Subject",c.value="border-white",m.value="border-white",w.value="border-blue-200 text-blue-200"}function y(){i.value="Notices",w.value="border-white",m.value="border-white",c.value="border-blue-200 text-blue-200"}function t(){i.value="Info",w.value="border-white",m.value="border-blue-200 text-blue-200",c.value="border-white"}const n=Q(),g=F(),d=Number(n.params.id),f=r.parents.find(a=>a.id===d),p=v.parentSudent.filter(a=>a.parentId===d),C=$.students.filter(a=>a.id===p.studentId);p.forEach(a=>{x.push(a.studentId)}),console.log(x.value);function u(a){g.push({name:a,params:{id:d}})}return(a,h)=>(s(),o(I,null,[k(Pe),e("div",rt,[e("div",at,[e("div",{class:M([b(c),"border rounded-lg md:h-6 h-12 max-md:text-sm w-1/5 max-md:w-1/3 text-center flex justify-center items-center"]),onClick:y},h[1]||(h[1]=[e("p",{class:"cursor-pointer"},"Notices",-1)]),2),e("div",{class:M([b(w),"border rounded-lg md:h-6 h-12 max-md:text-sm w-1/5 max-md:w-1/3 text-center flex justify-center items-center"]),onClick:_},h[2]||(h[2]=[e("p",{class:"cursor-pointer"},"Student subjects",-1)]),2),e("div",{class:M([b(m),"border rounded-lg md:h-6 h-12 max-md:text-sm w-1/5 max-md:w-1/3 text-center flex justify-center items-center"]),onClick:t},h[3]||(h[3]=[e("p",{class:"cursor-pointer"},"Staff Information",-1)]),2)]),e("div",it,[e("h1",dt,"Welcome "+l(b(f).name)+" "+l(b(f).surname),1),b(C)?(s(),o("div",ut,[b(i)==="Subject"?(s(),T(lt,{key:0,"-ids":b(x),class:"w-full"},null,8,["-ids"])):D("",!0)])):(s(),o("div",ct,[e("p",null,[h[4]||(h[4]=S("No student assigned, please press ")),e("span",{class:"underline text-blue-600 cursor-pointer",onClick:h[0]||(h[0]=q=>u("addStudent"))},"here to register a student")])])),b(i)==="Notices"?(s(),T(Oe,{key:2})):D("",!0)])])],64))}};export{$t as default};
