import{r,c as h,a as s,u as a,b as x,d as y,w as m,v as _,i as p,e as k,f as D,g as S,h as V,j as B,o as c,_ as C}from"./index-CwIRFKx0.js";import{f}from"./formUtilities-b0G78jVk.js";import{u as M}from"./studentData-CoaBhV-D.js";import{_ as U}from"./error-CknHqRNW.js";const I={class:"flex flex-col items-center gap-2"},L={class:"flex flex-row"},N=["type"],z={__name:"StudentLogin",setup(P){let l=r(""),t=r(""),o=r(""),v=M(),u=r("eye-slash"),i=r("password");function b(){u.value==="eye-slash"&&i.value==="password"?(u.value="eye",i.value="text"):(u.value="eye-slash",i.value="password")}function w(){if(f.checkEmptyFields(l,t)){o.value="There are empty fields";return}if(!f.validatePin(t.value)){o.value="Invalid pin";return}const d=v.students.find(e=>e.surname===l.value&&e.pin===parseInt(t.value));if(d){const e=d.id;V.push({name:"studentDashboard",params:{id:e}})}else{o.value="User unrecognized";return}}return(d,e)=>{const g=B("font-awesome-icon");return c(),h("main",null,[e[4]||(e[4]=s("img",{class:"w-10 ml-5 mt-5 absolute",src:C,alt:""},null,-1)),s("form",{onSubmit:e[2]||(e[2]=S(()=>{},["prevent"])),class:"w-full h-screen flex flex-col gap-8 justify-center items-center",action:""},[s("div",I,[e[3]||(e[3]=s("h1",{class:"text-xl"},"Student Login",-1)),a(o)?(c(),x(U,{key:0,"error-message":a(o)},null,8,["error-message"])):y("",!0)]),s("div",null,[m(s("input",{"onUpdate:modelValue":e[0]||(e[0]=n=>p(l)?l.value=n:l=n),class:"border border-blue-600 rounded h-8 w-56 pl-2",type:"text",name:"surname",id:"surname",placeholder:"Surname"},null,512),[[_,a(l)]])]),s("div",L,[m(s("input",{"onUpdate:modelValue":e[1]||(e[1]=n=>p(t)?t.value=n:t=n),class:"border border-blue-600 rounded-l h-8 w-48 pl-2",type:a(i),name:"",placeholder:"Pin"},null,8,N),[[k,a(t)]]),s("button",{class:"w-8 h-8 bg-blue-600 rounded-r",onClick:b},[D(g,{icon:a(u)},null,8,["icon"])])]),s("div",{class:"w-60 pl-2"},[s("button",{class:"bg-blue-600 w-56 h-8 text-white rounded",type:"submit",onClick:w},"Login")])],32)])}}};export{z as default};
