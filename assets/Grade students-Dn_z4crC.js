import{_ as w,a as k}from"./teacherNav-BUhn-0PW.js";import{u as y}from"./studentData-CoaBhV-D.js";import{s as T,r as p,c as d,f as b,a as s,F as g,p as h,u as j,o as c,t as f}from"./index-CwIRFKx0.js";import"./teacherData-Des5ZfOl.js";import"./parentsData-nJOEJgqE.js";import"./messageData-C00oRMPq.js";const A=T("studentGrades",{state:()=>({grades:JSON.parse(localStorage.getItem("studentGrades")||"[]")}),actions:{addGrades(l,n){const o={id:Date.now(),studentId:l,...n,createDate:new Date().toLocaleString()};this.grades.push(o),this.saveGradesToLocalStorage()},deleteGrades(l){this.grades=this.grades.filter(n=>n.id!==l),this.saveGradesToLocalStorage()},updateGrades(l,n){const o=this.grades.findIndex(u=>u.id===l);o!==-1?(this.grades[o]={...this.grades[o],...n,lastUpdated:new Date().toLocaleString()},this.saveGradesToLocalStorage()):console.error(`Grade with id ${l} not found.`)},saveGradesToLocalStorage(){try{localStorage.setItem("studentGrades",JSON.stringify(this.grades))}catch(l){console.error("Failed to save grades to localStorage:",l)}}}}),D={class:"w-full h-screen flex flex-col justify-center items-center gap-3"},L={class:"flex flex-col gap-2 items-center"},E={class:"w-5/6"},O={class:"border border-black text-left pl-2"},F={class:"w-1/4 border border-black pl-2"},N=["value","onInput"],B={class:"border border-black"},z={__name:"Grade students",setup(l){const n=y(),o=A(),u=p(["Activity 1","Activity 2","Activity 3","Activity 4","Assignment 1","Test 1","Test 2","Assignment 2"]),r=p({});function v(t){const e=r.value[t]||{};return Object.values(e).reduce((a,i)=>a+(parseFloat(i)||0),0)}function m(){Object.entries(r.value).forEach(([t,e])=>{Object.entries(e).forEach(([a,i])=>{o.addGrades(t,{grade:i,selectedClass:"10A",subject:"English",activity:a})})}),console.log("Grades saved:",o.grades)}function G(t,e){return r.value[t]||(r.value[t]={}),r.value[t][e]||(r.value[t][e]=""),r.value[t][e]}function _(t,e,a){r.value[t]||(r.value[t]={}),r.value[t][e]=a}return(t,e)=>(c(),d(g,null,[b(w,{class:"fixed"}),s("div",D,[b(k,{placeholder:"Search by subject and grade"}),s("div",L,[e[2]||(e[2]=s("h2",{class:"text-center text-lg"},"Grade & Subject: 10 English",-1)),s("div",null,[s("button",{class:"bg-green-600 w-44 text-white rounded",onClick:m},"Save changes")]),s("table",E,[s("thead",null,[s("tr",null,[e[0]||(e[0]=s("th",{class:"border border-black text-left pl-2"},"Students",-1)),(c(!0),d(g,null,h(u.value,a=>(c(),d("th",O,f(a),1))),256)),e[1]||(e[1]=s("th",{class:"border border-black text-left pl-2"},"Total",-1))])]),s("tbody",null,[(c(!0),d(g,null,h(j(n).students,a=>(c(),d("tr",null,[s("td",F,f(a.name)+" "+f(a.surname),1),(c(!0),d(g,null,h(u.value,(i,S)=>(c(),d("td",{class:"border border-black",key:S},[s("input",{type:"text",class:"w-full h-full pl-1",value:G(a.id,i),onInput:x=>_(a.id,i,x.target.value)},null,40,N)]))),128)),s("td",B,f(v(a.id)),1)]))),256))])])])])],64))}};export{z as default};
