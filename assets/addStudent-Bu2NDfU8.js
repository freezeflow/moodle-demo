import{r,c as v,f as S,u as a,a as e,b,d as f,g as _,w as h,v as y,i as D,n as g,t as o,F as C,k as V,o as i,l as B}from"./index-CwIRFKx0.js";import{_ as M}from"./back-B_79b8KM.js";import{_ as R}from"./error-CknHqRNW.js";import{_ as F}from"./successMessage-wI-VHyJP.js";import{u as P}from"./parentsData-nJOEJgqE.js";import{u as U}from"./studentData-CoaBhV-D.js";import{u as j}from"./parentStudentData-CtZKbBmW.js";import{f as E}from"./formUtilities-b0G78jVk.js";const L={class:"w-full h-screen flex flex-col gap-5 justify-center items-center"},T={class:"flex flex-col justify-center items-center gap-2"},$={key:0},Q={__name:"addStudent",setup(G){P();const p=U(),x=j(),k=V();B();const d=Number(k.params.id);let s=r(),n=r(),l=r(""),m=r("");function w(){if(E.checkEmptyFields(n.value)){l.value="Please enter a student's pin";return}if(s.value=p.students.find(u=>u.pin===Number(n.value)),!s.value){l.value="No student with that pin";return}l.value=""}function N(){if(s.value=p.students.find(u=>u.pin===Number(n.value)),!s.value){l.value="No student with that pin";return}l.value="",x.addparentSudent(d,s.value.id),m.value="Student saved",console.log(s.value.id,d)}return(u,t)=>(i(),v(C,null,[S(M,{link:"parentDashboard",id:a(d),class:"fixed top-3 left-3"},null,8,["id"]),e("div",L,[e("div",T,[t[2]||(t[2]=e("h1",{class:"text-xl"},"Register student",-1)),a(l)?(i(),b(R,{key:0,"error-message":a(l)},null,8,["error-message"])):f("",!0),a(m)?(i(),b(F,{key:1,"success-message":a(m)},null,8,["success-message"])):f("",!0)]),e("form",{action:"",onSubmit:t[1]||(t[1]=_(()=>{},["prevent"])),class:"w-2/5 max-sm:w-4/5 flex flex-col gap-5"},[e("div",null,[t[3]||(t[3]=e("label",{for:""},"Student pin:",-1)),h(e("input",{type:"number","onUpdate:modelValue":t[0]||(t[0]=c=>D(n)?n.value=c:n=c),class:"w-full h-8 pl-2 border border-blue-600 rounded"},null,512),[[y,a(n)]])]),e("button",{class:"w-full h-8 bg-blue-950 text-white rounded",onClick:w},"Look up student"),e("div",null,[t[6]||(t[6]=e("h1",{class:"text-lg"},"Student info:",-1)),a(s)?(i(),v("div",$,[e("p",null,[t[4]||(t[4]=e("span",{class:"font-semibold"},"Name:",-1)),g(" "+o(a(s).name)+" "+o(a(s).surname),1)]),e("p",null,[t[5]||(t[5]=e("span",{class:"font-semibold"},"Grade:",-1)),g(" "+o(a(s).grade)+o(a(s).classes),1)])])):f("",!0)]),e("button",{class:"w-full h-8 bg-blue-600 text-white rounded",onClick:N},"Confirm student")],32)])],64))}};export{Q as default};
